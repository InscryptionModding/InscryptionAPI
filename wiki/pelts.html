<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Custom Pelts | InscryptionAPI </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Custom Pelts | InscryptionAPI ">
    <meta name="generator" content="docfx 2.59.0.0">
    
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    <meta property="docfx:newtab" content="true">
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/logo.svg" alt="Inscryption Modding API">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="custom-pelts">Custom Pelts</h2>

<hr>
<p>The pelts bought and sold by the Trapper and Tradder are comprised of two components: the CardInfo and the PeltData.</p>
<p>The CardInfo represents the actual card that you can obtain and sell, and is created using the CardManager the same way as any regular card.  The PeltData on the other hand is created using the API&#39;s PeltManager.</p>
<p>The PeltData determines how the CardInfo is handled by the Trapper and Trader.  This includes how much it costs to buy, how much the price increases over a run,and what and how many cards the Trader will offer for the pelt.</p>
<h3 id="adding-a-custom-pelt">Adding a Custom Pelt</h3>
<p>The first step is making the card.</p>
<pre><code class="lang-csharp">CardInfo bonePeltInfo = CardManager.New(PluginGuid, &quot;Bone Pelt&quot;, &quot;Bone Pelt&quot;, 0, 2);
bonePeltInfo.portraitTex = TextureHelper.GetImageAsTexture(Path.Combine(PluginDirectory, &quot;Art/portrait_skin_bone.png&quot;)).ConvertTexture();
bonePeltInfo.cardComplexity = CardComplexity.Simple;
bonePeltInfo.temple = CardTemple.Nature;
bonePeltInfo.SetPelt();
</code></pre><p>You MUST create the card before creating the pelt data.</p>
<p>Once that&#39;s done, it&#39;s time to create the pelt data.
The most important complicated part of this is creating the Function that will be used to determine the cards the Trader will offer.</p>
<p>For this example, the Trader will only offer cards that cost Bones and are part of the Nature temple (meaning Act 1 cards only).</p>
<pre><code class="lang-csharp">Func&lt;List&lt;CardInfo&gt;&gt; cardChoices = ()
{
    return CardManager.AllCardsCopy.FindAll((CardInfo x) =&gt; x.BonesCost &gt; 0 &amp;&amp; x.temple == CardTemple.Nature);
};

PeltManager.CustomPeltData bonePelt = PeltManager.New(yourPluginGuid, bonePeltInfo, baseBuyPrice: 3, extraAbilitiesToAdd: 0, choicesOfferedByTrader: 8, cardChoices);
</code></pre><p>This pelt will now cost 3 Teeth to buy from the Trapper, and the Trader will offer you 8 cards to choose from for it; the offered cards will have 0 extra abilities added onto them as well.</p>
<h3 id="pelt-extensions">Pelt Extensions</h3>
<hr>
<p>The following extensions are provided for further customisation:</p>
<ul>
<li><strong>SetPluginGuid:</strong> Sets the Guid of the plugin that&#39;s adding the pelt. Useful if you aren&#39;t using PeltManager.New() to create your pelt.</li>
<li><strong>SetBuyPrice:</strong> Sets the base buy price of the pelt, meaning how much it costs initially before modifiers are added. Optionally sets the max buy price for the pelt as well (default price is 20).</li>
<li><strong>SetMaxBuyPrice:</strong> A separate extension for only setting the max buy price of the pelt. Useful if you&#39;ve already set the buy price using PeltManager.New(), for instance.</li>
<li><strong>SetBuyPriceModifiers:</strong> Sets the values used to determine how the price is affected by in-game events, such as the Trapper and Trader being defeated, or the Expensive Pelts challenge being active.</li>
<li><strong>SetBuyPriceAdjustment:</strong> Sets the Function used to determine how the price changes across a run. You can get really fancy with it, but by default it increases by 1 Tooth.</li>
<li><strong>SetModifyCardChoiceAtTrader:</strong> Lets you modify the cards offered by the Trader further, such as adding a decal or changing their cost.</li>
<li><strong>SetIsSoldByTrapper:</strong> Determines whether the pelt will be sold by the Trapper.</li>
<li><strong>SetNumberOfCardChoices:</strong> Sets how many cards you will able to choose from when trading the pelt.</li>
<li><strong>SetCardChoices:</strong> Sets the Function used to determine what potential cards the Trader will offer for the pelt.</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="toggle-mode">
                <div class="icon">
                  <i aria-hidden="true">☀</i>
                </div>
                <label class="switch">
                  <input type="checkbox" id="switch-style">
                  <span class="slider round"></span>
                </label>
                <div class="icon">
                  <i aria-hidden="true">☾</i>
                </div>
              </div>
          
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <h5>In This Article</h5>
              <div></div>
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <div class="pull-left">
              
              <span>Generated by <strong>DocFX</strong></span>
            </div>
            <div class="toggle-mode pull-right visible-sm visible-xs">
              <div class="icon">
                <i aria-hidden="true">☀</i>
              </div>
              <label class="switch">
                <input type="checkbox" id="switch-style-m">
                <span class="slider round"></span>
              </label>
              <div class="icon">
                <i aria-hidden="true">☾</i>
              </div>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="../styles/toggle-theme.js"></script>
      </footer>    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
